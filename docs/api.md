# OBSERVER/ADMIN API

### API 概览

| 接口编号 |    接口名称   | 接口功能    |  请求方式 |
| :------| :---------- | :---------- |:-------- |
| **0001** | industries | 行业列表 | GET |
| **0002** | ccc | 3C行业列表 | GET |
| **0003** | ccc/<int:id>/ | 3C行业 | GET |
| **0004** | license | 许可证行业列表 | GET |
| **0005** | license/<int:id>/ | 许可证行业 | GET |
| **2001** | select2/industries | 查询行业 | GET |

*****
### API 详细信息

*****
#### **0001**

**1. 接口描述**

本接口 (industries) 用于获取行业列表数据.

**2. 输入参数**

| 参数名称 |    类型   | 是否必选 |  描述       |
| :------| :-------- | :------ |:----------|
| page | Int        |  是     | 页码. 值范围(1~+&). 默认值: 1|
| length | Int        |  是     | 页长度. 值范围(15~+&). 默认值: 15|
| l1 | Int        |  否     | 大类ID。|
| l2 | Int        |  否     | 中类ID。|
| l3 | Int        |  否     | 小类ID。|

**3. 输出参数**

| 参数名称 |    类型   |     描述   |
| :------| :-------- | :-------- |
| total| Int | 符合条件的信息数量。 |
| list | List | 符合条件的详细信息列表。 |
| l1 | List | 对应 Table 第一列 |
| l2 | List | 对应 Table 第二列 |
| l3 | List | 对应 Table 第三列 |
| l4 | List | 对应 Table 第四列 |
| id | Int | 行业ID |
| name | String | 行业名称 |
| desc | String | 行业描述 |
| ccc_id | Int | 3C行业ID。注：该字段用来标识当前行业是否3C行业，若为 0 ，则说明不是，否则是。 |
| license_id | Int | 许可证行业ID。注：该字段用来标识当前行业是否许可证行业，若为 0 ，则说明不是，否则是。 |

**4. 实例**

输入

```
http://192.168.0.103:8001/api/industries?
l1=13&
l2=131&
l3=1311

```

输出
```
{
    "list": [
        {
            "l2": {
                "id": 131,
                "desc": "也称粮食加工，指将稻谷、小麦、玉米、谷子、高粱等谷物去壳、碾磨，加工为成品粮的",
                "name": "谷物磨制"
            },
            "l4": [
                {
                    "ccc_id": 13111,
                    "id": 4,
                    "name": "电线电缆",
                    "license_id": 0
                }
            ],
            "l1": {
                "id": 13,
                "desc": "指直接以农、林、牧、渔业产品为原料进行的谷物磨制、饲料加工、植物油和制糖加工、屠宰及肉类加工、水产品加工，以及蔬菜、水",
                "name": "农副食品加工业"
            },
            "l3": {
                "id": 1311,
                "desc": "指将稻谷去壳、碾磨成大米的生产活动",
                "name": "稻谷加工"
            }
        }
    ],
    "total": 1
}
```


*****
#### **0002**

**1. 接口描述**

占位用，该 API 未实现。


*****
#### **0003**

**1. 接口描述**

本接口 (ccc/<int:id>/) 用于获取3C行业数据.

**2. 输入参数**

| 参数名称 |    类型   | 是否必选 |  描述       |
| :------| :-------- | :------ |:----------|
| page | Int        |  是     | 页码. 值范围(1~+&). 默认值: 1|
| length | Int        |  是     | 页长度. 值范围(15~+&). 默认值: 15|
| id | Int        |  是     | 行业ID。 注：通常对应行业列表第四列中的ccc_id|

**3. 输出参数**

| 参数名称 |    类型   |     描述   |
| :------| :-------- | :-------- |
| total| Int | 符合条件的信息数量。 |
| list | List | 符合条件的详细信息列表。 |
| l1 | List | 对应 Table 第一列 |
| l2 | List | 对应 Table 第二列 |
| l3 | List | 对应 Table 第三列 |
| id | Int | 行业ID |
| name | String | 行业名称 |
| desc | String | 行业描述 |

**4. 实例**

输入

```
http://192.168.0.103:8001/api/ccc/1000/
```

输出
```
{
    "total": 1,
    "list": [
        {
            "l1": {
                "desc": "",
                "id": 1000,
                "name": "测试用产品"
            },
            "l3": {
                "desc": "",
                "id": 1003,
                "name": "测试用产品3"
            },
            "l2": {
                "desc": "",
                "id": 1001,
                "name": "测试用产品2"
            }
        }
    ]
}
```


*****
#### **0004**

**1. 接口描述**

占位用，该 API 未实现。


*****
#### **0005**

**1. 接口描述**

本接口 (license/<int:id>/) 用于获取许可证行业数据.

**2. 输入参数**

| 参数名称 |    类型   | 是否必选 |  描述       |
| :------| :-------- | :------ |:----------|
| page | Int        |  是     | 页码. 值范围(1~+&). 默认值: 1|
| length | Int        |  是     | 页长度. 值范围(15~+&). 默认值: 15|
| id | Int        |  是     | 行业ID。 注：通常对应行业列表第四列中的license_id|

**3. 输出参数**

| 参数名称 |    类型   |     描述   |
| :------| :-------- | :-------- |
| total| Int | 符合条件的信息数量。 |
| list | List | 符合条件的详细信息列表。 |
| l1 | List | 对应 Table 第一列 |
| l2 | List | 对应 Table 第二列 |
| l3 | List | 对应 Table 第三列 |
| id | Int | 行业ID |
| name | String | 行业名称 |
| desc | String | 行业描述 |

**4. 实例**

输入

```
http://192.168.0.103:8001/api/license/1000/
```

输出
```
{
    "total": 1,
    "list": [
        {
            "l1": {
                "desc": "",
                "id": 1000,
                "name": "测试用产品"
            },
            "l3": {
                "desc": "",
                "id": 1003,
                "name": "测试用产品3"
            },
            "l2": {
                "desc": "",
                "id": 1001,
                "name": "测试用产品2"
            }
        }
    ]
}
```


*****
#### **2001**

**1. 接口描述**

本接口 (select2/industries) 用于查询行业。

**2. 输入参数**

| 参数名称 |    类型   | 是否必选 |  描述       |
| :------| :-------- | :------ |:----------|
| level |  Int    |  是    | 精确匹配。 值范围：{1：大类, 2：中类, 3：小类}|
| text |  String    |  否     | 模糊查询。注：行业ID或行业名称的 istartwith 匹配。 |
| parent |  Int    |  否     | 精确查询。 大类查询可不传该参数，中类、小类 需要传上一级的ID。|

**3. 输出参数**

| 参数名称 |    类型   |     描述   |
| :------| :-------- | :-------- |
| id | String | 关键词唯一性标识符 |
| text | String | 关键词名称 |

**4. 实例**

输入

```
http://192.168.0.103:8001/api/select2/industries?
&level=1
&text=农副
```

输出
```
[
    {
        "text": "农副食品加工业",
        "id": 13
    }
]
```
